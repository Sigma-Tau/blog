<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Francisco Alfaro">

<title>Personal Blog - Impact on Digital Learning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/logo_fam2.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la b√∫squeda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        if (typeof require !== 'undefined') {
        require.undef("plotly");
        requirejs.config({
            paths: {
                'plotly': ['https://cdn.plot.ly/plotly-2.2.0.min']
            }
        });
        require(['plotly'], function(Plotly) {
            window._Plotly = Plotly;
        });
        }
        </script>
        

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/doberman.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Personal Blog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/fralfaro"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/faam/"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://fralfaro.github.io/portfolio/"><i class="bi bi-globe" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Impact on Digital Learning</h1>
            <p class="subtitle lead">Competition Solution: LearnPlatform COVID-19 Impact on Digital Learning proposed by Kaggle.</p>
                                <div class="quarto-categories">
                <div class="quarto-category">kaggle</div>
                <div class="quarto-category">data-analysis</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autor/a</div>
      <div class="quarto-title-meta-contents">
               <p>Francisco Alfaro </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Fecha de publicaci√≥n</div>
      <div class="quarto-title-meta-contents">
        <p class="date">31 de agosto de 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">En esta p√°gina</h2>
   
  <ul>
  <li><a href="#impact-on-digital-learning" id="toc-impact-on-digital-learning" class="nav-link active" data-scroll-target="#impact-on-digital-learning">Impact on Digital Learning</a>
  <ul class="collapse">
  <li><a href="#overview-of-the-dataset" id="toc-overview-of-the-dataset" class="nav-link" data-scroll-target="#overview-of-the-dataset">Overview of the Dataset</a>
  <ul class="collapse">
  <li><a href="#districts" id="toc-districts" class="nav-link" data-scroll-target="#districts">1. Districts</a></li>
  <li><a href="#products" id="toc-products" class="nav-link" data-scroll-target="#products">2. Products</a></li>
  <li><a href="#engagement" id="toc-engagement" class="nav-link" data-scroll-target="#engagement">3. Engagement</a></li>
  </ul></li>
  <li><a href="#preprocessing" id="toc-preprocessing" class="nav-link" data-scroll-target="#preprocessing">Preprocessing</a></li>
  <li><a href="#eda" id="toc-eda" class="nav-link" data-scroll-target="#eda">EDA</a>
  <ul class="collapse">
  <li><a href="#visualization-districts" id="toc-visualization-districts" class="nav-link" data-scroll-target="#visualization-districts">Visualization: Districts</a></li>
  <li><a href="#visualization-locales" id="toc-visualization-locales" class="nav-link" data-scroll-target="#visualization-locales">Visualization: Locales</a></li>
  <li><a href="#visualization-sectors" id="toc-visualization-sectors" class="nav-link" data-scroll-target="#visualization-sectors">Visualization: Sectors</a></li>
  <li><a href="#visualization-primary_function_main" id="toc-visualization-primary_function_main" class="nav-link" data-scroll-target="#visualization-primary_function_main">Visualization: primary_function_main</a></li>
  <li><a href="#visualization-products" id="toc-visualization-products" class="nav-link" data-scroll-target="#visualization-products">Visualization: Products</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="impact-on-digital-learning" class="level1">
<h1>Impact on Digital Learning</h1>
<p><a href="https://kaggle.com/kernels/welcome?src=https://github.com/fralfaro/portfolio/blob/main/docs/blog/posts/2021/basic-analysis-impact-on-digital-learning.ipynb"><img src="https://kaggle.com/static/images/open-in-kaggle.svg" class="img-fluid" alt="Kaggle"></a> <a href="https://www.kaggle.com/code/faamds/basic-analysis-impact-on-digital-learning"><img src="https://img.shields.io/static/v1?label=Kaggle&amp;message=link&amp;color=57aeac&amp;labelColor=black&amp;style=flat&amp;logo=kaggle.png" class="img-fluid"></a></p>
<p>Main objective is understand of the best way the challenge <a href="https://www.kaggle.com/c/learnplatform-covid19-impact-on-digital-learning/overview">LearnPlatform COVID-19 Impact on Digital Learning</a> proposed by <a href="https://www.kaggle.com/">Kaggle</a>.</p>
<p>The steps to follow are:</p>
<ul>
<li><strong>Overview of the Dataset</strong>: Understanding the datasets available.</li>
<li><strong>Preprocessing</strong>: Preprocessing of the datasets available.</li>
<li><strong>EDA</strong>: Exploratory data analysis using visualization tools in Python.</li>
</ul>
<blockquote class="blockquote">
<p><strong>Note</strong>: My analysis is inspired by several of the notebooks that different profiles have uploaded to the challenge, so some graphics or images belong to these authors. The most important ones will be found in the references. On the other hand, my project is available in <a href="https://jupyterbook.org/intro.html">Jupyter Book</a>, click in the following <a href="https://faam.gitlab.io/learnplatform/learnplatform/index.html">link</a>.</p>
</blockquote>
<section id="overview-of-the-dataset" class="level2">
<h2 class="anchored" data-anchor-id="overview-of-the-dataset">Overview of the Dataset</h2>
<p>The objective of this section is to be able to read and give an interpretation to each one of the available datasets, analyzing column by column. For each dataset we will make a brief description:</p>
<ul>
<li><strong>File</strong>: File name (<code>.csv</code>).</li>
<li><strong>Shape</strong>: Dimensionality of datasets.</li>
<li><strong>Description</strong>: Basic description of the dataset.</li>
<li><strong>Top 5 rows</strong>: Show first 5 rows + explanation for some columns.</li>
<li><strong>Summary</strong>: Summary of datasets.</li>
</ul>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T21:59:13.410181Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T21:59:13.316042Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T21:59:41.807446Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T21:59:41.806324Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:48:09.998997Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:28.514116,‚Äúend_time‚Äù:‚Äú2021-08-24T21:59:41.807642‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T21:59:13.293526‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=1}</p>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> glob</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotly.subplots <span class="im">import</span> make_subplots</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> wordcloud <span class="im">import</span> WordCloud, STOPWORDS</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># read data</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co">## products dataset</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> <span class="st">'../input/learnplatform-covid19-impact-on-digital-learning/'</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>products_df <span class="op">=</span> pd.read_csv(path <span class="op">+</span> <span class="st">"products_info.csv"</span>)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>products_df.columns <span class="op">=</span> [x.lower().replace(<span class="st">' '</span>,<span class="st">'_'</span>) <span class="cf">for</span> x <span class="kw">in</span> products_df.columns]</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="co">## districts dataset</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>districts_df <span class="op">=</span> pd.read_csv(path <span class="op">+</span><span class="st">"districts_info.csv"</span>)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="co">#districts_df.state = districts_df.state.replace('District Of Columbia','District of Columbia')</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="co">## engagement dataset</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> <span class="st">'../input/learnplatform-covid19-impact-on-digital-learning/engagement_data/'</span> </span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>all_files <span class="op">=</span> glob.glob(path <span class="op">+</span> <span class="st">"/*.csv"</span>)</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>li <span class="op">=</span> []</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> filename <span class="kw">in</span> all_files:</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.read_csv(filename, index_col<span class="op">=</span><span class="va">None</span>, header<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>    district_id <span class="op">=</span> filename.split(<span class="st">"/"</span>)[<span class="op">-</span><span class="dv">1</span>].split(<span class="st">"."</span>)[<span class="dv">0</span>]</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">"district_id"</span>] <span class="op">=</span> district_id</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    li.append(df)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>engagement_df <span class="op">=</span> pd.concat(li)</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>engagement_df <span class="op">=</span> engagement_df.reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="co"># summary</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>df_list <span class="op">=</span> [</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>    districts_df,</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>    products_df,</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>    engagement_df</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>df_name <span class="op">=</span> [</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">'districts_df'</span>,</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">'products_df'</span>,</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">'engagement_df'</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> [</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>    <span class="st">'dataframe'</span>,</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>    <span class="st">'column'</span>, </span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>    <span class="st">'dtype'</span>, </span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Non-Null Count'</span>, </span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Null Count'</span>,</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>    <span class="st">'unique'</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>frames<span class="op">=</span>[]</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(df_list)):</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> df_list[i].copy()</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> df.dtypes.reset_index().rename(columns <span class="op">=</span> {<span class="st">'index'</span>:<span class="st">'column'</span>,<span class="dv">0</span>:<span class="st">'dtype'</span>})</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> df.count().reset_index().rename(columns <span class="op">=</span> {<span class="st">'index'</span>:<span class="st">'column'</span>,<span class="dv">0</span>:<span class="st">'Non-Null Count'</span>})</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>    c <span class="op">=</span> df.isnull().<span class="bu">sum</span>().reset_index().rename(columns <span class="op">=</span> {<span class="st">'index'</span>:<span class="st">'column'</span>,<span class="dv">0</span>:<span class="st">'Null Count'</span>})</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>    temp <span class="op">=</span> a.merge(b,on <span class="op">=</span> <span class="st">'column'</span>).merge(c,on <span class="op">=</span> <span class="st">'column'</span>)</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>    dct <span class="op">=</span> {col: <span class="bu">len</span>(df[col].unique()) <span class="cf">for</span> col <span class="kw">in</span> df.columns}</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>    df_unique <span class="op">=</span> pd.DataFrame({</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>    <span class="st">'column'</span>:dct.keys(),</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>    <span class="st">'unique'</span>:dct.values(),</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>    temp <span class="op">=</span> temp.merge(df_unique,on <span class="op">=</span> <span class="st">'column'</span>)</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>    temp[<span class="st">'dataframe'</span>] <span class="op">=</span> df_name[i]</span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>    frames.append(temp)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>:::</p>
<section id="districts" class="level3">
<h3 class="anchored" data-anchor-id="districts">1. Districts</h3>
<ul>
<li><strong>File</strong>: <code>districts_info.csv</code>.</li>
<li><strong>Shape</strong>: <span class="math inline">\(233\)</span> rows <span class="math inline">\(\times\)</span> <span class="math inline">\(7\)</span> columns.</li>
<li><strong>Description</strong>: file contains information about each school district.</li>
<li><strong>Top 5 rows:</strong>:</li>
</ul>
<p><img src="https://gitlab.com/FAAM/learnplatform/-/raw/master/images/districts.png" class="center"></p>
<ul>
<li><strong>Summary</strong>:</li>
</ul>
<p><img src="https://gitlab.com/FAAM/learnplatform/-/raw/master/images/1.png" width="400" height="200" alt="centered image"></p>
</section>
<section id="products" class="level3">
<h3 class="anchored" data-anchor-id="products">2. Products</h3>
<ul>
<li><p><strong>File</strong>: <code>products_info.csv</code></p></li>
<li><p><strong>Shape</strong>: <span class="math inline">\(372\)</span> rows <span class="math inline">\(\times\)</span> <span class="math inline">\(6\)</span> columns.</p></li>
<li><p><strong>Description</strong>: for each school district, there is an additional file that contains the engagement for each tool for everyday in 2020.</p></li>
<li><p><strong>Top 5 rows:</strong>: <img src="https://gitlab.com/FAAM/learnplatform/-/raw/master/images/products.png"></p></li>
<li><p><strong>Summary</strong>:</p></li>
</ul>
<p><img src="https://gitlab.com/FAAM/learnplatform/-/raw/master/images/2.png" width="400" height="200" alt="centered image"></p>
</section>
<section id="engagement" class="level3">
<h3 class="anchored" data-anchor-id="engagement">3. Engagement</h3>
<ul>
<li><p><strong>File</strong>: <code>engagement_data/*.csv</code>.</p></li>
<li><p><strong>Shape</strong>: <span class="math inline">\(22324190\)</span> rows <span class="math inline">\(\times\)</span> <span class="math inline">\(5\)</span> columns.</p></li>
<li><p><strong>Description</strong>: file contains information about each school district. The files can be joined by the key columns <code>district_id</code> and <code>lp_id</code>.</p></li>
<li><p><strong>Top 5 rows:</strong>: <img src="https://gitlab.com/FAAM/learnplatform/-/raw/master/images/engagement.png"></p></li>
<li><p><strong>Summary</strong>:</p></li>
</ul>
<p><img src="https://gitlab.com/FAAM/learnplatform/-/raw/master/images/3.png" width="400" height="200" alt="centered image"></p>
</section>
</section>
<section id="preprocessing" class="level2">
<h2 class="anchored" data-anchor-id="preprocessing">Preprocessing</h2>
<p>Preprocessing is an important step in any analytics competition. It helps you to handle your data more efficiently. However, please note that the way I preprocess the data may not be suited for your analysis purposes. Therefore, before you begin preprocessing your data, think about which data you would like to keep and/or modify and which data is not relevant for your analysis.</p>
<ul>
<li>one-hot encoding the product sectors</li>
<li>splitting up the primary essential function into main and sub category</li>
</ul>
<blockquote class="blockquote">
<p><strong>Note</strong>: Preprocessing varies if you see other notebooks of this challenge. The processing will depend on the understanding of each of the datasets and the extra information that you may have.</p>
</blockquote>
<p><img src="https://gitlab.com/FAAM/learnplatform/-/raw/master/images/4.png"></p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T21:59:42.315509Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T21:59:42.314913Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:00.669027Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:00.669504Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:48:44.902736Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:18.384236,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:00.669700‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T21:59:42.285464‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=2}</p>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># products_df</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>products_df[<span class="st">'primary_function_main'</span>] <span class="op">=</span> products_df[<span class="st">'primary_essential_function'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.split(<span class="st">' - '</span>)[<span class="dv">0</span>] <span class="cf">if</span> x <span class="op">==</span> x <span class="cf">else</span> x)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>products_df[<span class="st">'primary_function_sub'</span>] <span class="op">=</span> products_df[<span class="st">'primary_essential_function'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.split(<span class="st">' - '</span>)[<span class="dv">1</span>] <span class="cf">if</span> x <span class="op">==</span> x <span class="cf">else</span> x)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Synchronize similar values</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>products_df[<span class="st">'primary_function_sub'</span>] <span class="op">=</span> products_df[<span class="st">'primary_function_sub'</span>].replace({<span class="st">'Sites, Resources &amp; References'</span> : <span class="st">'Sites, Resources &amp; Reference'</span>})</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#products_df.drop("Primary Essential Function", axis=1, inplace=True)</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>temp_sectors <span class="op">=</span> products_df[<span class="st">'sector(s)'</span>].<span class="bu">str</span>.get_dummies(sep<span class="op">=</span><span class="st">"; "</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>temp_sectors.columns <span class="op">=</span> [<span class="ss">f"sector_</span><span class="sc">{</span>re<span class="sc">.</span>sub(<span class="st">' '</span>, <span class="st">''</span>, c)<span class="sc">}</span><span class="ss">"</span> <span class="cf">for</span> c <span class="kw">in</span> temp_sectors.columns]</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>products_df <span class="op">=</span> products_df.join(temp_sectors)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">#products_df.drop("Sector(s)", axis=1, inplace=True)</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co">#del temp_sectors</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co"># engagement_df</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>engagement_df[<span class="st">'time'</span>] <span class="op">=</span> pd.to_datetime(engagement_df[<span class="st">'time'</span>])</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> engagement_df[[<span class="st">'time'</span>]].drop_duplicates(<span class="st">'time'</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>temp[<span class="st">'week'</span>] <span class="op">=</span> temp[<span class="st">'time'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.isocalendar()[<span class="dv">1</span>])</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>engagement_df <span class="op">=</span> engagement_df.merge(temp,on <span class="op">=</span><span class="st">'time'</span>)</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>engagement_df[<span class="st">'lp_id'</span>] <span class="op">=</span> engagement_df[<span class="st">'lp_id'</span>].fillna(<span class="op">-</span><span class="dv">1</span>).astype(<span class="bu">int</span>)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>engagement_df[<span class="st">'district_id'</span>] <span class="op">=</span> engagement_df[<span class="st">'district_id'</span>].fillna(<span class="op">-</span><span class="dv">1</span>).astype(<span class="bu">int</span>)</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>engagement_df_mix <span class="op">=</span> engagement_df.merge(</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    districts_df[[<span class="st">'district_id'</span>,<span class="st">'state'</span>]],</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    on <span class="op">=</span> <span class="st">'district_id'</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>engagement_df_mix <span class="op">=</span> engagement_df_mix.merge(</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    products_df[[<span class="st">'lp_id'</span>,<span class="st">'product_name'</span>,<span class="st">'sector_Corporate'</span>, <span class="st">'sector_HigherEd'</span>,<span class="st">'sector_PreK-12'</span>]],</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    on <span class="op">=</span> <span class="st">'lp_id'</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>:::</p>
</section>
<section id="eda" class="level2">
<h2 class="anchored" data-anchor-id="eda">EDA</h2>
<p>Exploratory data analysis is the most important part of the challenge, since this will make the difference between the winner and the other participants. You should keep in mind that your visualizations must be able to simply and easily summarize the datasets. Also, it is hoped that the proposed visualizations can help to understand behaviors that are not easy to analyze with a simple table.</p>
<p>Visualizations will be made in <a href="https://matplotlib.org/">matplotlib</a>, <a href="https://seaborn.pydata.org/">seaborn</a> y <a href="https://plotly.com/python/">plotly</a>. Based on the article by <a href="https://www.kennethmoreland.com/color-maps/ColorMapsExpanded.pdf"><em>Diverging Color Maps for Scientific Visualization (Expanded) - Kenneth Moreland</em></a>, we will occupy <code>Grays</code> scale next to the technique: dark text on a light background.</p>
<blockquote class="blockquote">
<p><strong>Note</strong>: Visualizations made on this notebook are static. You can use different tools to be able to make dynamic visualizations (<a href="https://altair-viz.github.io/">Altair</a>, <a href="https://plotly.com/python/">plotly</a>, etc.). You can also perform tools like <a href="https://streamlit.io/">Streamlit</a> to make Dashboards. On the other hand, if you fully understand python visualization tools and have knowledge of HTML/CSS, you can make beautiful notebook presentations like <a href="https://www.kaggle.com/spitfire2nd/enthusiast-to-data-professional-what-changes">this one</a>.</p>
</blockquote>
<section id="visualization-districts" class="level3">
<h3 class="anchored" data-anchor-id="visualization-districts">Visualization: Districts</h3>
<p>First of all, I am interested how diverse the available school districts are. As you can see in below plot, the available data does not cover all the states in the U.S. . The states with the most available school districts are CT (30) and UT (29) while there are also states with only one school district (FL, TN, NY, AZ).</p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:00.788039Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:00.787339Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:00.944794Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:00.944141Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:15.148181Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:0.179153,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:00.944932‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:00.765779‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=3}</p>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># map plot: districts</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>us_state_abbrev <span class="op">=</span> {</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Alabama'</span>: <span class="st">'AL'</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Alaska'</span>: <span class="st">'AK'</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'American Samoa'</span>: <span class="st">'AS'</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Arizona'</span>: <span class="st">'AZ'</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Arkansas'</span>: <span class="st">'AR'</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'California'</span>: <span class="st">'CA'</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Colorado'</span>: <span class="st">'CO'</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Connecticut'</span>: <span class="st">'CT'</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Delaware'</span>: <span class="st">'DE'</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'District Of Columbia'</span>: <span class="st">'DC'</span>,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Florida'</span>: <span class="st">'FL'</span>,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Georgia'</span>: <span class="st">'GA'</span>,</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Guam'</span>: <span class="st">'GU'</span>,</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Hawaii'</span>: <span class="st">'HI'</span>,</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Idaho'</span>: <span class="st">'ID'</span>,</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Illinois'</span>: <span class="st">'IL'</span>,</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Indiana'</span>: <span class="st">'IN'</span>,</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Iowa'</span>: <span class="st">'IA'</span>,</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Kansas'</span>: <span class="st">'KS'</span>,</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Kentucky'</span>: <span class="st">'KY'</span>,</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Louisiana'</span>: <span class="st">'LA'</span>,</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Maine'</span>: <span class="st">'ME'</span>,</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Maryland'</span>: <span class="st">'MD'</span>,</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Massachusetts'</span>: <span class="st">'MA'</span>,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Michigan'</span>: <span class="st">'MI'</span>,</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Minnesota'</span>: <span class="st">'MN'</span>,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Mississippi'</span>: <span class="st">'MS'</span>,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Missouri'</span>: <span class="st">'MO'</span>,</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Montana'</span>: <span class="st">'MT'</span>,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Nebraska'</span>: <span class="st">'NE'</span>,</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Nevada'</span>: <span class="st">'NV'</span>,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Hampshire'</span>: <span class="st">'NH'</span>,</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Jersey'</span>: <span class="st">'NJ'</span>,</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New Mexico'</span>: <span class="st">'NM'</span>,</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">'New York'</span>: <span class="st">'NY'</span>,</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">'North Carolina'</span>: <span class="st">'NC'</span>,</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">'North Dakota'</span>: <span class="st">'ND'</span>,</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Northern Mariana Islands'</span>:<span class="st">'MP'</span>,</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Ohio'</span>: <span class="st">'OH'</span>,</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Oklahoma'</span>: <span class="st">'OK'</span>,</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Oregon'</span>: <span class="st">'OR'</span>,</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Pennsylvania'</span>: <span class="st">'PA'</span>,</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Puerto Rico'</span>: <span class="st">'PR'</span>,</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Rhode Island'</span>: <span class="st">'RI'</span>,</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>    <span class="st">'South Carolina'</span>: <span class="st">'SC'</span>,</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">'South Dakota'</span>: <span class="st">'SD'</span>,</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Tennessee'</span>: <span class="st">'TN'</span>,</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Texas'</span>: <span class="st">'TX'</span>,</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Utah'</span>: <span class="st">'UT'</span>,</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Vermont'</span>: <span class="st">'VT'</span>,</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Virgin Islands'</span>: <span class="st">'VI'</span>,</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Virginia'</span>: <span class="st">'VA'</span>,</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Washington'</span>: <span class="st">'WA'</span>,</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">'West Virginia'</span>: <span class="st">'WV'</span>,</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Wisconsin'</span>: <span class="st">'WI'</span>,</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Wyoming'</span>: <span class="st">'WY'</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>districts_df[<span class="st">'state_abbrev'</span>] <span class="op">=</span> districts_df[<span class="st">'state'</span>].replace(us_state_abbrev)</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>districts_info_by_state <span class="op">=</span> districts_df[<span class="st">'state_abbrev'</span>].value_counts().to_frame().reset_index(drop<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>districts_info_by_state.columns <span class="op">=</span> [<span class="st">'state_abbrev'</span>, <span class="st">'num_districts'</span>]</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> pd.DataFrame({</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>    <span class="st">'state_abbrev'</span>:us_state_abbrev.values(),</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> temp.merge(districts_info_by_state,on<span class="op">=</span><span class="st">'state_abbrev'</span>,how<span class="op">=</span><span class="st">'left'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>temp[<span class="st">'num_districts'</span>] <span class="op">=</span> temp[<span class="st">'num_districts'</span>].astype(<span class="bu">int</span>)</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>layout <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>    title_text <span class="op">=</span> <span class="st">"Number of Available School Districts per State"</span>,</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>    title_font_color<span class="op">=</span><span class="st">"black"</span>,</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>    geo_scope<span class="op">=</span><span class="st">'usa'</span>,</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>)    </span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>fig.add_trace(</span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>    go.Choropleth(</span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a>        locations<span class="op">=</span>temp.state_abbrev,</span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>        zmax<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>        z <span class="op">=</span> temp.num_districts,</span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a>        locationmode <span class="op">=</span> <span class="st">'USA-states'</span>, <span class="co"># set of locations match entries in `locations`</span></span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a>        marker_line_color<span class="op">=</span><span class="st">'black'</span>,</span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a>        geo<span class="op">=</span><span class="st">'geo'</span>,</span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>        colorscale<span class="op">=</span>px.colors.sequential.Greys, </span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a>fig.update_layout(layout)   </span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="f5b4fd90-c85f-4a32-82ac-973d90f01203" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("f5b4fd90-c85f-4a32-82ac-973d90f01203")) {                    Plotly.newPlot(                        "f5b4fd90-c85f-4a32-82ac-973d90f01203",                        [{"colorscale":[[0.0,"rgb(255,255,255)"],[0.125,"rgb(240,240,240)"],[0.25,"rgb(217,217,217)"],[0.375,"rgb(189,189,189)"],[0.5,"rgb(150,150,150)"],[0.625,"rgb(115,115,115)"],[0.75,"rgb(82,82,82)"],[0.875,"rgb(37,37,37)"],[1.0,"rgb(0,0,0)"]],"geo":"geo","locationmode":"USA-states","locations":["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FL","GA","GU","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","MP","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VT","VI","VA","WA","WV","WI","WY"],"marker":{"line":{"color":"black"}},"type":"choropleth","z":[0,0,0,1,0,12,0,30,0,3,1,0,0,0,0,18,7,0,0,0,0,0,0,21,2,1,0,6,0,0,0,2,2,0,8,4,1,0,11,0,0,0,0,0,0,0,2,2,29,0,0,4,6,0,3,0],"zmax":1}],                        {"geo":{"scope":"usa"},"template":{"data":{"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"title":{"font":{"color":"black"},"text":"Number of Available School Districts per State"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f5b4fd90-c85f-4a32-82ac-973d90f01203');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<p>:::</p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:01.006598Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:01.005538Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:01.460650Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:01.461172Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:15.338218Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:0.494452,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:01.461333‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:00.966881‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=4}</p>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bar plot: districts</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'default'</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">8</span>))</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>plotting <span class="op">=</span> sns.countplot(</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"state"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>districts_df,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    order<span class="op">=</span>districts_df.state.value_counts().index,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    palette<span class="op">=</span><span class="st">"Greys_d"</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    linewidth<span class="op">=</span><span class="dv">3</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> container <span class="kw">in</span> plotting.containers:</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    plotting.bar_label(container,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co">#Text</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>plotting.text(x <span class="op">=</span> <span class="op">-</span><span class="dv">5</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">4.2</span>, s <span class="op">=</span> <span class="st">"State Distribution"</span>,fontsize <span class="op">=</span> <span class="dv">24</span>, weight <span class="op">=</span> <span class="st">'bold'</span>, alpha <span class="op">=</span> <span class="fl">.90</span>)<span class="op">;</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>plotting.text(x <span class="op">=</span> <span class="op">-</span><span class="dv">5</span>, y <span class="op">=</span> <span class="op">-</span><span class="dv">3</span>, s <span class="op">=</span> <span class="st">"Distribution of United States"</span>,fontsize <span class="op">=</span> <span class="dv">16</span>, alpha <span class="op">=</span> <span class="fl">.85</span>)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>plotting.text(x <span class="op">=</span> <span class="fl">31.2</span>, y <span class="op">=</span> <span class="fl">0.08</span>, s <span class="op">=</span> <span class="st">'Highest'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>plotting.text(x <span class="op">=</span> <span class="fl">1.7</span>, y <span class="op">=</span> <span class="fl">22.3</span>, s <span class="op">=</span> <span class="st">'Lowest'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize <span class="op">=</span> <span class="dv">14</span>)</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>plt.yticks(fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>plt.xticks(fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="basic-analysis-impact-on-digital-learning_files/figure-html/cell-5-output-1.png" class="img-fluid"></p>
</div>
<p>:::</p>
</section>
<section id="visualization-locales" class="level3">
<h3 class="anchored" data-anchor-id="visualization-locales">Visualization: Locales</h3>
<p>Locales are separated into 4 categories: <strong>Suburb</strong>,<strong>Rural</strong>, <strong>City</strong> and <strong>Town</strong>, where most of the locales are concentrated in the <em>Suburb</em> category (104).</p>
<p>For the <code>pct_black/hispanic</code> variable, <em>Rural</em> and <em>Town</em> categories concentrate their entire population close to the interval $ [0,0.2 [$, while for the others sectors this percentage is varied.</p>
<p>For <code>pctfree/reduced</code> and <code>pp_total_raw</code> indicators, the distribution for each location is different, although they tend to focus on a particular interval.</p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:01.557765Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:01.556848Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:03.160447Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:03.160919Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:15.865498Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:1.630377,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:03.161103‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:01.530726‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=5}</p>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># heatmap: districts -&gt; locale</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> districts_df.groupby(<span class="st">'locale'</span>).pp_total_raw.value_counts().to_frame()</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>temp.columns <span class="op">=</span> [<span class="st">'amount'</span>]</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> temp.reset_index(drop<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> temp.pivot(index<span class="op">=</span><span class="st">'locale'</span>, columns<span class="op">=</span><span class="st">'pp_total_raw'</span>)[<span class="st">'amount'</span>]</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> temp[[<span class="st">'[4000, 6000['</span>, <span class="st">'[6000, 8000['</span>, <span class="st">'[8000, 10000['</span>, <span class="st">'[10000, 12000['</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>       <span class="st">'[12000, 14000['</span>, <span class="st">'[14000, 16000['</span>, <span class="st">'[16000, 18000['</span>, </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>       <span class="st">'[18000, 20000['</span>, <span class="st">'[20000, 22000['</span>, <span class="st">'[22000, 24000['</span>, ]]</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>temp1 <span class="op">=</span> districts_df.groupby(<span class="st">'locale'</span>)[<span class="st">'pct_black/hispanic'</span>].value_counts().to_frame()</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>temp1.columns <span class="op">=</span> [<span class="st">'amount'</span>]</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>temp1 <span class="op">=</span> temp1.reset_index(drop<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>temp1 <span class="op">=</span> temp1.pivot(index<span class="op">=</span><span class="st">'locale'</span>, columns<span class="op">=</span><span class="st">'pct_black/hispanic'</span>)[<span class="st">'amount'</span>]</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>temp2 <span class="op">=</span> districts_df.groupby(<span class="st">'locale'</span>)[<span class="st">'pct_free/reduced'</span>].value_counts().to_frame()</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>temp2.columns <span class="op">=</span> [<span class="st">'amount'</span>]</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>temp2 <span class="op">=</span> temp2.reset_index(drop<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>temp2 <span class="op">=</span> temp2.pivot(index<span class="op">=</span><span class="st">'locale'</span>, columns<span class="op">=</span><span class="st">'pct_free/reduced'</span>)[<span class="st">'amount'</span>]</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'default'</span>)</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>fig, [[ax1, ax2], [ax3, ax4]] <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">2</span>, ncols<span class="op">=</span><span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">24</span>,<span class="dv">18</span>))</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>sns.countplot(data<span class="op">=</span>districts_df, x<span class="op">=</span><span class="st">'locale'</span>, ax<span class="op">=</span>ax1, palette<span class="op">=</span><span class="st">'Greys_d'</span>)</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>ax1.text(x <span class="op">=</span> <span class="op">-</span><span class="fl">0.5</span>, y <span class="op">=</span> <span class="dv">120</span>, s <span class="op">=</span> <span class="st">"Locale Distribution"</span>,fontsize <span class="op">=</span> <span class="dv">24</span>, weight <span class="op">=</span> <span class="st">'bold'</span>, alpha <span class="op">=</span> <span class="fl">.90</span>)<span class="op">;</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>ax1.xaxis.set_tick_params(labelsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> container <span class="kw">in</span> ax1.containers:</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    ax1.bar_label(container,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>sns.heatmap(temp1.fillna(<span class="dv">0</span>), annot<span class="op">=</span><span class="va">True</span>,  cmap<span class="op">=</span><span class="st">'Greys'</span>, ax<span class="op">=</span>ax2,annot_kws<span class="op">=</span>{<span class="st">"fontsize"</span>:<span class="dv">14</span>})</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>ax2.set_title(<span class="st">'Heatmap: locale and pct_black/hispanic'</span>,fontsize<span class="op">=</span><span class="dv">16</span>,loc<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>ax2.xaxis.set_tick_params(labelsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>ax2.yaxis.set_tick_params(labelsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>sns.heatmap(temp.fillna(<span class="dv">0</span>), annot<span class="op">=</span><span class="va">True</span>,  cmap<span class="op">=</span><span class="st">'Greys'</span>, ax<span class="op">=</span>ax3,annot_kws<span class="op">=</span>{<span class="st">"fontsize"</span>:<span class="dv">14</span>})</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>ax3.set_title(<span class="st">'Heatmap: locale and pp_total_raw'</span>,fontsize<span class="op">=</span><span class="dv">16</span>,loc<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>ax3.xaxis.set_tick_params(labelsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>ax3.yaxis.set_tick_params(labelsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>sns.heatmap(temp2.fillna(<span class="dv">0</span>), annot<span class="op">=</span><span class="va">True</span>,  cmap<span class="op">=</span><span class="st">'Greys'</span>, ax<span class="op">=</span>ax4,annot_kws<span class="op">=</span>{<span class="st">"fontsize"</span>:<span class="dv">14</span>})</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>ax4.set_title(<span class="st">'Heatmap: locale and pct_free/reduced'</span>,fontsize<span class="op">=</span><span class="dv">16</span>,loc<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>ax4.xaxis.set_tick_params(labelsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>ax4.yaxis.set_tick_params(labelsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="basic-analysis-impact-on-digital-learning_files/figure-html/cell-6-output-1.png" class="img-fluid"></p>
</div>
<p>:::</p>
</section>
<section id="visualization-sectors" class="level3">
<h3 class="anchored" data-anchor-id="visualization-sectors">Visualization: Sectors</h3>
<p>Sectors are separated into 3 categories: <strong>sector_Corporate</strong>, <strong>sector_HigherEd</strong> and <strong>sector_PreK-12</strong>, donde la categor√≠a mayoritaria corresponde a <em>sector_PreK-12</em> (350). On the other hand, analyzing the <code>primary_function_main</code> variable, all sectors are focused on the<code>LC</code> category. It is worth mentioning that the distribution of the other categories remains almost the same between sectors.</p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:03.301514Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:03.292826Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:03.796850Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:03.797314Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:17.574316Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:0.551066,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:03.797481‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:03.246415‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=6}</p>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'default'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> [<span class="st">'sector_Corporate'</span>, <span class="st">'sector_HigherEd'</span>,<span class="st">'sector_PreK-12'</span>]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>counts <span class="op">=</span> [products_df[x].<span class="bu">sum</span>() <span class="cf">for</span> x <span class="kw">in</span> names]</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>temp_bar <span class="op">=</span> pd.DataFrame({</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'sector'</span>:names,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'count'</span>:counts</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>}).sort_values(<span class="st">'count'</span>,ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> products_df.groupby(<span class="st">'primary_function_main'</span>)[names].<span class="bu">sum</span>()</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#fig, [ax1, ax2 ]= plt.subplots(nrows=1, ncols=2, figsize=(12,6))</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">18</span>,<span class="dv">18</span>))</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.barplot(x<span class="op">=</span><span class="st">"sector"</span>, y<span class="op">=</span><span class="st">"count"</span>, data<span class="op">=</span>temp_bar,palette <span class="op">=</span><span class="st">'Greys_d'</span>)</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> container <span class="kw">in</span> ax.containers:</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    ax.bar_label(container,fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>sns.heatmap(temp.T, annot<span class="op">=</span><span class="va">True</span>,  cmap<span class="op">=</span><span class="st">'Greys'</span>,annot_kws<span class="op">=</span>{<span class="st">"fontsize"</span>:<span class="dv">10</span>},fmt<span class="op">=</span><span class="st">'g'</span>)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="op">-</span><span class="dv">6</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">0.25</span>, s <span class="op">=</span> <span class="st">"Sectors Distribution"</span>,fontsize <span class="op">=</span> <span class="dv">18</span>, weight <span class="op">=</span> <span class="st">'bold'</span>, alpha <span class="op">=</span> <span class="fl">.90</span>)<span class="op">;</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="basic-analysis-impact-on-digital-learning_files/figure-html/cell-7-output-1.png" class="img-fluid"></p>
</div>
<p>:::</p>
</section>
<section id="visualization-primary_function_main" class="level3">
<h3 class="anchored" data-anchor-id="visualization-primary_function_main">Visualization: primary_function_main</h3>
<p>Continuing the analysis of the <code>primary_function_main</code> variable, it was observed that most of these are in the<code>LC</code> category (77%). Within this category, its subcategory is analyzed, where the predominant subcategory is <code>Sites, Resources &amp; Reference</code> (101).</p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:03.924145Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:03.923467Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:04.076527Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:04.077022Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:18.054662Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:0.190305,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:04.077195‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:03.886890‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=7}</p>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pieplot: products</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>color <span class="op">=</span> [</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'darkgray'</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'silver'</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'lightgray'</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'gainsboro'</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>products_df[<span class="st">"primary_function_main"</span>].value_counts().plot(</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    kind <span class="op">=</span> <span class="st">'pie'</span>, </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    autopct<span class="op">=</span><span class="st">'</span><span class="sc">%1d%%</span><span class="st">'</span>, </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">6</span>), </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    colors<span class="op">=</span>color,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    wedgeprops<span class="op">=</span>{<span class="st">"edgecolor"</span>:<span class="st">"k"</span>,<span class="st">'linewidth'</span>: <span class="fl">0.8</span>,},</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    textprops<span class="op">=</span>{<span class="st">'color'</span>:<span class="st">"black"</span>},</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    startangle<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="op">-</span><span class="fl">1.4</span>, y <span class="op">=</span> <span class="fl">1.1</span>, s <span class="op">=</span> <span class="st">"Categories"</span>,fontsize <span class="op">=</span> <span class="dv">18</span>, weight <span class="op">=</span> <span class="st">'bold'</span>, alpha <span class="op">=</span> <span class="fl">.90</span>)<span class="op">;</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="basic-analysis-impact-on-digital-learning_files/figure-html/cell-8-output-1.png" class="img-fluid"></p>
</div>
<p>:::</p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:04.155626Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:04.153843Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:04.430687Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:04.431156Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:18.238340Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:0.322608,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:04.431319‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:04.108711‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=8}</p>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pieplot: products -&gt; subcategories</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'default'</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">18</span>,<span class="dv">8</span>))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> products_df[products_df.primary_function_main <span class="op">==</span> <span class="st">'LC'</span>]</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.countplot(</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>temp, </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'primary_function_sub'</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    order<span class="op">=</span>temp.primary_function_sub.value_counts().index,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    palette <span class="op">=</span><span class="st">'Greys_d'</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> container <span class="kw">in</span> ax.containers:</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    ax.bar_label(container,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co">#plt.title('Sub-Categories in Primary Function LC')</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="op">-</span><span class="dv">50</span>, y <span class="op">=</span> <span class="op">-</span><span class="fl">0.8</span>, </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>         s <span class="op">=</span> <span class="st">"Sub-Categories in Primary Function LC"</span>,fontsize <span class="op">=</span> <span class="dv">24</span>, weight <span class="op">=</span> <span class="st">'bold'</span>, alpha <span class="op">=</span> <span class="fl">.90</span>)<span class="op">;</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="dv">105</span>, y <span class="op">=</span><span class="fl">0.08</span>, s <span class="op">=</span> <span class="st">'Highest'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="dv">7</span>, y <span class="op">=</span> <span class="dv">6</span>, s <span class="op">=</span> <span class="st">'Lowest'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>plt.yticks(fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>plt.xticks(fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="basic-analysis-impact-on-digital-learning_files/figure-html/cell-9-output-1.png" class="img-fluid"></p>
</div>
<p>:::</p>
</section>
<section id="visualization-products" class="level3">
<h3 class="anchored" data-anchor-id="visualization-products">Visualization: Products</h3>
<p>After understanding the functionality of each of the tools, it is necessary to understand the distribution of the tools. The first thing is to study the distribution of the providers of the products we have, where:</p>
<ul>
<li>258 providers have 1 occurrences.</li>
<li>18 providers have 2 occurrences.</li>
<li>9 providers have 3 occurrences.</li>
<li>2 providers have 4 occurrences.</li>
<li>2 providers have 6 occurrences.</li>
<li>1 provider have 30 occurrences.</li>
</ul>
<p>Based on this, only the top 15 providers will be displayed.</p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:04.610677Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:04.586018Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:04.945261Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:04.945715Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:18.515334Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:0.414758,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:04.945874‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:04.531116‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=9}</p>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>dct <span class="op">=</span> {</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Savvas Learning Company | Formerly Pearson K12 Learning'</span>: <span class="st">'Savvas Learning Company'</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> products_df[<span class="st">'provider/company_name'</span>].value_counts().reset_index()</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>temp.columns <span class="op">=</span> [<span class="st">'provider/company_name'</span>,<span class="st">'count'</span>]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> temp.replace( {</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Savvas Learning Company | Formerly Pearson K12 Learning'</span>: <span class="st">'Savvas Learning Company'</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="dv">15</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>temp <span class="op">=</span> temp.sort_values(<span class="st">'count'</span>,ascending <span class="op">=</span> <span class="va">False</span>).head(n)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'default'</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">18</span>,<span class="dv">8</span>))</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> sns.barplot(</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>temp, </span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'provider/company_name'</span>,</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'count'</span>,</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    palette <span class="op">=</span><span class="st">'Greys_d'</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> container <span class="kw">in</span> ax.containers:</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    ax.bar_label(container,fontsize<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="op">-</span><span class="dv">7</span>, y <span class="op">=</span> <span class="op">-</span><span class="dv">1</span>, </span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>         s <span class="op">=</span> <span class="ss">f"Top </span><span class="sc">{</span>n<span class="sc">}</span><span class="ss"> provider/company name"</span>,fontsize <span class="op">=</span> <span class="dv">20</span>, weight <span class="op">=</span> <span class="st">'bold'</span>, alpha <span class="op">=</span> <span class="fl">.90</span>)<span class="op">;</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="dv">31</span>, y <span class="op">=</span><span class="fl">0.08</span>, s <span class="op">=</span> <span class="st">'Highest'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="dv">3</span>, y <span class="op">=</span> <span class="fl">14.2</span>, s <span class="op">=</span> <span class="st">'Lowest'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>plt.yticks(fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>plt.yticks(fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>plt.xticks(fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="basic-analysis-impact-on-digital-learning_files/figure-html/cell-10-output-1.png" class="img-fluid"></p>
</div>
<p>:::</p>
<p>With regard to products, there are about 372 different products.</p>
<p>We can make a word cloud to be able to analyze in a different way, words by themselves that are repeated the most in the <code>product_name</code> variable.</p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:05.106485Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:05.104433Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:06.068287Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:06.068956Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:18.935625Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:1.012728,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:06.069135‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:05.056407‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=10}</p>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>cloud <span class="op">=</span> WordCloud(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">1080</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">270</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    colormap<span class="op">=</span><span class="st">'Greys'</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    background_color<span class="op">=</span><span class="st">'white'</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    ).generate(<span class="st">" "</span>.join(products_df[<span class="st">'product_name'</span>].astype(<span class="bu">str</span>)))</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">22</span>, <span class="dv">10</span>))</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>plt.imshow(cloud)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>plt.axis(<span class="st">'off'</span>)<span class="op">;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="basic-analysis-impact-on-digital-learning_files/figure-html/cell-11-output-1.png" class="img-fluid"></p>
</div>
<p>:::</p>
<p>To understand more in detail the use of these products, we will analyze the use of these products with respect to the variable <code>engagement_index</code>. The first graph is related to the average <code>engagement_index</code> (per student) for the year 2020, where the first 15 products will be displayed.</p>
<p>An important fact is that 362 products have an average of less than 1!.</p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:06.276148Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:06.275229Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:07.642119Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:07.642568Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:19.888566Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:1.424686,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:07.642750‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:06.218064‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=11}</p>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>group_01 <span class="op">=</span> (engagement_df_mix.groupby(<span class="st">'product_name'</span>)[<span class="st">'engagement_index'</span>].mean()<span class="op">/</span><span class="dv">1000</span>).reset_index().sort_values(<span class="st">'engagement_index'</span>,ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>group_01[<span class="st">'engagement_index'</span>] <span class="op">=</span> group_01[<span class="st">'engagement_index'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">round</span>(x,<span class="dv">2</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>less_1 <span class="op">=</span> <span class="bu">len</span>(group_01.loc[<span class="kw">lambda</span> x:x[<span class="st">'engagement_index'</span>]<span class="op">&lt;</span><span class="dv">1</span>])</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'default'</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">8</span>))</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>plotting <span class="op">=</span> sns.barplot(</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"product_name"</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="st">"engagement_index"</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>group_01.head(<span class="dv">20</span>),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    palette<span class="op">=</span><span class="st">"Greys_d"</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> container <span class="kw">in</span> plotting.containers:</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    plotting.bar_label(container,fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="op">-</span><span class="fl">3.5</span>, y <span class="op">=</span> <span class="op">-</span><span class="dv">3</span>, </span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>         s <span class="op">=</span> <span class="st">"Mean daily page-load events in top 20 tools"</span>,fontsize <span class="op">=</span> <span class="dv">20</span>, weight <span class="op">=</span> <span class="st">'bold'</span>, alpha <span class="op">=</span> <span class="fl">.90</span>)<span class="op">;</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="op">-</span><span class="fl">3.5</span>, y <span class="op">=</span> <span class="op">-</span><span class="dv">2</span>, </span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>         s <span class="op">=</span> <span class="st">"per 1 student"</span>,fontsize <span class="op">=</span> <span class="dv">14</span>,  alpha <span class="op">=</span> <span class="fl">.90</span>)<span class="op">;</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="dv">11</span>, y <span class="op">=</span><span class="fl">0.1</span>, s <span class="op">=</span> <span class="st">'Highest'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="dv">1</span>, y <span class="op">=</span> <span class="fl">19.2</span>, s <span class="op">=</span> <span class="st">'Lowest'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>plt.yticks(fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>plt.xticks(fontsize<span class="op">=</span><span class="dv">16</span>)</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="basic-analysis-impact-on-digital-learning_files/figure-html/cell-12-output-1.png" class="img-fluid"></p>
</div>
<p>:::</p>
<p>Let‚Äôs study the temporal behavior (at the level of weeks) of these tools during the year 2020, where the most three used tools will be shown with different colors, while the other tools will be visualized but with the same color (in order to understand their distribution).</p>
<blockquote class="blockquote">
<p><strong>Note</strong>: The proposed analysis can be carried out at the day level and analyzing through time series each of the tools during the year 2020.</p>
</blockquote>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:08.316803Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:08.316106Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:13.858922Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:13.859377Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:21.992666Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:6.060783,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:13.859531‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:07.798748‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=12}</p>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>col <span class="op">=</span> <span class="st">'week'</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>group_04  <span class="op">=</span> (engagement_df_mix.groupby([<span class="st">'product_name'</span>,col])[<span class="st">'engagement_index'</span>].mean()<span class="op">/</span><span class="dv">1000</span>).reset_index().sort_values(<span class="st">'engagement_index'</span>,ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>g_high <span class="op">=</span> group_01.head(<span class="dv">3</span>)[<span class="st">'product_name'</span>]</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>group_04_top <span class="op">=</span> group_04.loc[<span class="kw">lambda</span> x: x.product_name.isin(g_high)]</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>states <span class="op">=</span> group_04[<span class="st">'product_name'</span>].unique()</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>times<span class="op">=</span> group_04[col].unique()</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>index <span class="op">=</span> pd.MultiIndex.from_product([states,times], names <span class="op">=</span> [<span class="st">"product_name"</span>, col])</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>df_complete <span class="op">=</span> pd.DataFrame(index <span class="op">=</span> index).reset_index().fillna(<span class="dv">0</span>)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>group_04 <span class="op">=</span> df_complete.merge(group_04,on <span class="op">=</span> [<span class="st">'product_name'</span>,col],how<span class="op">=</span><span class="st">'left'</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>g_high <span class="op">=</span> group_04.groupby(<span class="st">'product_name'</span>)[<span class="st">'engagement_index'</span>].<span class="bu">sum</span>().sort_values(ascending<span class="op">=</span><span class="va">False</span>).head(n).index.to_list()</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> [    </span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">'lightgray'</span>, </span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">'dimgray'</span>, </span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'black'</span>, </span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">'firebrick'</span>, </span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">'darkred'</span>]</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>palette_01 <span class="op">=</span> {x:<span class="st">'lavender'</span> <span class="cf">for</span> x <span class="kw">in</span> group_04[<span class="st">'product_name'</span>].unique() <span class="cf">if</span> x <span class="kw">not</span> <span class="kw">in</span> g_high}</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>palette_02 <span class="op">=</span> {g_high[i]:colors[i] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n)}</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'default'</span>)</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">20</span>,<span class="dv">6</span>))</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>sns.lineplot(</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>group_04.loc[<span class="kw">lambda</span> x: <span class="op">~</span>x.product_name.isin(g_high)], </span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>col, </span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"engagement_index"</span>, </span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>    hue<span class="op">=</span><span class="st">'product_name'</span>,</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>    legend <span class="op">=</span> <span class="va">False</span>,</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>    palette<span class="op">=</span>palette_01,</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>    linewidth <span class="op">=</span> <span class="fl">1.</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>sns.lineplot(</span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>group_04.loc[<span class="kw">lambda</span> x: x.product_name.isin(g_high)], </span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>col, </span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">"engagement_index"</span>, </span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>    hue<span class="op">=</span><span class="st">'product_name'</span>,</span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>    palette<span class="op">=</span>palette_02,</span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>    linewidth <span class="op">=</span> <span class="fl">1.</span></span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="op">-</span><span class="dv">2</span>, y <span class="op">=</span><span class="fl">23.7</span>, s <span class="op">=</span> <span class="st">'Mean daily page-load events in top 3 tools'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="op">-</span><span class="dv">2</span>, y <span class="op">=</span><span class="fl">22.3</span>, s <span class="op">=</span> <span class="st">'by products and time, per 1 student'</span>,fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="dv">12</span>, y <span class="op">=</span><span class="fl">20.7</span>, s <span class="op">=</span> <span class="st">'1,000 cases of COVID'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="dv">37</span>, y <span class="op">=</span><span class="fl">20.7</span>, s <span class="op">=</span> <span class="st">'1st September'</span>, weight <span class="op">=</span> <span class="st">'bold'</span>,fontsize<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>plt.axvline(x <span class="op">=</span> <span class="dv">11</span>, color <span class="op">=</span> <span class="st">'black'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>,linewidth <span class="op">=</span> <span class="fl">0.5</span>)</span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>plt.axvline(x <span class="op">=</span> <span class="dv">36</span>, color <span class="op">=</span> <span class="st">'black'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>,linewidth <span class="op">=</span> <span class="fl">0.5</span>)</span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="basic-analysis-impact-on-digital-learning_files/figure-html/cell-13-output-1.png" class="img-fluid"></p>
</div>
<p>:::</p>
<p>Now, we can understand the <code>engagement index</code> for the most important tools about districts, where the districts of * Wisconsin <em>, </em> Missouri * and * Virginia * have the highest <code>engagement index</code> among the three most used tools.</p>
<p>::: {.cell _kg_hide-input=‚Äòtrue‚Äô execution=‚Äò{‚Äúiopub.execute_input‚Äù:‚Äú2021-08-24T22:00:14.637147Z‚Äù,‚Äúiopub.status.busy‚Äù:‚Äú2021-08-24T22:00:14.636457Z‚Äù,‚Äúiopub.status.idle‚Äù:‚Äú2021-08-24T22:00:17.454954Z‚Äù,‚Äúshell.execute_reply‚Äù:‚Äú2021-08-24T22:00:17.455400Z‚Äù,‚Äúshell.execute_reply.started‚Äù:‚Äú2021-08-24T21:49:29.563655Z‚Äù}‚Äô papermill=‚Äò{‚Äúduration‚Äù:3.421243,‚Äúend_time‚Äù:‚Äú2021-08-24T22:00:17.455572‚Äù,‚Äúexception‚Äù:false,‚Äústart_time‚Äù:‚Äú2021-08-24T22:00:14.034329‚Äù,‚Äústatus‚Äù:‚Äúcompleted‚Äù}‚Äô tags=‚Äò[‚Äúhide-input‚Äù]‚Äô execution_count=13}</p>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>group_02 <span class="op">=</span> (engagement_df_mix.groupby([<span class="st">'state'</span>,<span class="st">'product_name'</span>])[<span class="st">'engagement_index'</span>].mean()<span class="op">/</span><span class="dv">1000</span>)<span class="op">\</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>            .reset_index().sort_values(<span class="st">'engagement_index'</span>,ascending <span class="op">=</span> <span class="va">False</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>gripo_02_top <span class="op">=</span> group_02.loc[<span class="kw">lambda</span> x: x.product_name.isin(g_high)]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>gripo_02_top[<span class="st">'engagement_index'</span>] <span class="op">=</span> gripo_02_top[<span class="st">'engagement_index'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">round</span>(x,<span class="dv">2</span>))</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">#gripo_02_top = gripo_02_top.loc[lambda x: x['engagement_index']&gt;0]</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">'default'</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.FacetGrid(gripo_02_top,hue<span class="op">=</span><span class="st">'product_name'</span>,col <span class="op">=</span> <span class="st">'product_name'</span>,height<span class="op">=</span><span class="dv">4</span>, col_wrap<span class="op">=</span> <span class="dv">3</span>  )</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>g.<span class="bu">map</span>(sns.barplot, <span class="st">"engagement_index"</span>,<span class="st">"state"</span>, palette<span class="op">=</span><span class="st">"Greys_d"</span>,)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>g.fig.set_size_inches(<span class="dv">15</span>, <span class="dv">8</span>)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>g.fig.subplots_adjust(top<span class="op">=</span><span class="fl">0.81</span>, right<span class="op">=</span><span class="fl">0.86</span>)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> g.axes.flatten()</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax <span class="kw">in</span> axes:</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> container <span class="kw">in</span> ax.containers:</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>        ax.bar_label(container,fontsize<span class="op">=</span><span class="dv">8</span>)</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="op">-</span><span class="dv">50</span>, y <span class="op">=</span> <span class="op">-</span><span class="dv">4</span>, s <span class="op">=</span> <span class="st">"Mean daily page-load events in top 3 tools"</span>,fontsize <span class="op">=</span> <span class="dv">16</span>, weight <span class="op">=</span> <span class="st">'bold'</span>, alpha <span class="op">=</span> <span class="fl">.90</span>)<span class="op">;</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>plt.text(x <span class="op">=</span> <span class="op">-</span><span class="dv">50</span>, y <span class="op">=</span> <span class="op">-</span><span class="dv">3</span>, s <span class="op">=</span> <span class="st">"by state and products, per 1 student"</span>,fontsize <span class="op">=</span> <span class="dv">14</span>,  alpha <span class="op">=</span> <span class="fl">.90</span>)<span class="op">;</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="basic-analysis-impact-on-digital-learning_files/figure-html/cell-14-output-1.png" class="img-fluid"></p>
</div>
<p>:::</p>
</section>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<ul>
<li>Depending on what you want to achieve you might want to carefully preselect districts. Note that we approach in this notebook might not necessarily suit your individual purposes.</li>
<li>When looking at digital learning, you might want to spend sometime in figuring out which districts actually applied digital learning</li>
</ul>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li><p><a href="https://www.kennethmoreland.com/color-maps/ColorMapsExpanded.pdf">Diverging Color Maps for Scientific Visualization (Expanded) - Kenneth Moreland</a></p></li>
<li><p><a href="https://www.kaggle.com/c/learnplatform-covid19-impact-on-digital-learning">Kaggle Competitions</a>:</p>
<ul>
<li><a href="https://www.kaggle.com/spitfire2nd/enthusiast-to-data-professional-what-changes/">Enthusiast to Data Professional - What changes?</a></li>
<li><a href="https://www.kaggle.com/iamleonie/how-to-approach-analytics-challenges">How To Approach Analytics Challenges</a></li>
<li><a href="https://www.kaggle.com/michau96/most-popular-tools-in-2020-digital-learning">Most popular tools in 2020 Digital Learning</a></li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/https:\/\/beamilz\.com\//);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Website made with <a href="https://quarto.org/">Quarto</a>, by Francisco Alfaro. License: <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>.</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/fralfaro">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/faam/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://fralfaro.github.io/portfolio/">
      <i class="bi bi-globe" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>